(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[244],{7222:function(e,r,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/scraper",function(){return s(9995)}])},9008:function(e,r,s){e.exports=s(3867)},9995:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return l}});var i=s(5893),n=s(7294),t=s(9008);function l(){var e;let[r,s]=(0,n.useState)(!1),[l,o]=(0,n.useState)(null),[d,a]=(0,n.useState)(null),[c,u]=(0,n.useState)({username:"",password:"",airline:"ABX Air"}),h=async()=>{if(!c.username||!c.password){a("Please provide both username and password");return}s(!0),a(null),o(null);try{let e=await fetch("/api/scrape",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}),r=await e.json();r.success?(o(r),console.log("Scraping successful:",r)):a(r.error||"Scraping failed")}catch(e){a("Network error: ".concat(e.message))}finally{s(!1)}},p=async()=>{try{let e=await fetch("/api/schedule?action=airlines"),r=await e.json();console.log("Available airlines:",r)}catch(e){console.error("Error fetching airlines:",e)}};return(0,i.jsxs)("div",{style:{padding:"2rem",maxWidth:"800px",margin:"0 auto"},children:[(0,i.jsx)(t,{children:(0,i.jsx)("title",{children:"Crew Schedule Scraper"})}),(0,i.jsx)("h1",{children:"\uD83D\uDEE9️ Crew Schedule Scraper"}),(0,i.jsx)("p",{children:"Enter your crew portal credentials to access your personal schedule data."}),(0,i.jsxs)("div",{style:{padding:"1rem",backgroundColor:"#e3f2fd",border:"1px solid #2196f3",borderRadius:"8px",marginBottom:"1rem"},children:[(0,i.jsx)("strong",{children:"\uD83D\uDD12 Privacy Notice:"})," Your credentials are only used to fetch your schedule and are never stored. Each pilot must enter their own login information."]}),(0,i.jsxs)("div",{style:{marginBottom:"2rem",padding:"1rem",border:"1px solid #ddd",borderRadius:"8px"},children:[(0,i.jsx)("h3",{children:"Enter Your Crew Portal Login"}),(0,i.jsx)("div",{style:{marginBottom:"1rem"},children:(0,i.jsxs)("label",{style:{display:"block",marginBottom:"0.5rem"},children:["Airline:",(0,i.jsxs)("select",{value:c.airline,onChange:e=>u({...c,airline:e.target.value}),style:{marginLeft:"0.5rem",padding:"0.25rem"},children:[(0,i.jsx)("option",{value:"ABX Air",children:"ABX Air"}),(0,i.jsx)("option",{value:"ATI",children:"ATI"})]})]})}),(0,i.jsx)("div",{style:{marginBottom:"1rem"},children:(0,i.jsxs)("label",{style:{display:"block",marginBottom:"0.5rem"},children:[(0,i.jsx)("strong",{children:"Your Crew Portal Username:"}),(0,i.jsx)("input",{type:"text",value:c.username,onChange:e=>u({...c,username:e.target.value}),style:{marginLeft:"0.5rem",padding:"0.5rem",width:"250px",fontSize:"14px"},placeholder:"Enter your ABX Air username",required:!0})]})}),(0,i.jsx)("div",{style:{marginBottom:"1rem"},children:(0,i.jsxs)("label",{style:{display:"block",marginBottom:"0.5rem"},children:[(0,i.jsx)("strong",{children:"Your Crew Portal Password:"}),(0,i.jsx)("input",{type:"password",value:c.password,onChange:e=>u({...c,password:e.target.value}),style:{marginLeft:"0.5rem",padding:"0.5rem",width:"250px",fontSize:"14px"},placeholder:"Enter your ABX Air password",required:!0})]})}),(0,i.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,i.jsx)("button",{onClick:h,disabled:r,style:{padding:"0.5rem 1rem",backgroundColor:r?"#ccc":"#0070f3",color:"white",border:"none",borderRadius:"4px",cursor:r?"not-allowed":"pointer"},children:r?"\uD83D\uDD04 Scraping...":"\uD83D\uDE80 Start Scraping"}),(0,i.jsx)("button",{onClick:p,style:{padding:"0.5rem 1rem",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"\uD83D\uDCCB Get Airlines"})]})]}),d&&(0,i.jsxs)("div",{style:{padding:"1rem",backgroundColor:"#fee",border:"1px solid #fcc",borderRadius:"4px",marginBottom:"1rem"},children:[(0,i.jsx)("h4",{children:"❌ Error:"}),(0,i.jsx)("p",{children:d})]}),l&&(0,i.jsxs)("div",{style:{padding:"1rem",backgroundColor:"#efe",border:"1px solid #cfc",borderRadius:"4px",marginBottom:"1rem"},children:[(0,i.jsx)("h4",{children:"✅ Your Personal Schedule Data:"}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Status:"})," ",l.success?"Success":"Failed"]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Retrieved:"})," ",l.timestamp]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Message:"})," ",l.message]}),l.data&&(0,i.jsxs)("div",{style:{marginTop:"1rem"},children:[(0,i.jsx)("h5",{children:"\uD83D\uDCCA Data Summary:"}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Duties Found:"})," ",(null===(e=l.data.duties)||void 0===e?void 0:e.length)||0]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Page Title:"})," ",l.data.pageTitle]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Portal URL:"})," ",l.data.url]}),l.data.duties&&l.data.duties.length>0&&(0,i.jsxs)("details",{style:{marginTop:"1rem"},children:[(0,i.jsxs)("summary",{style:{cursor:"pointer",fontWeight:"bold"},children:["\uD83D\uDCCB View Duty Details (",l.data.duties.length," items)"]}),(0,i.jsx)("div",{style:{maxHeight:"300px",overflow:"auto",marginTop:"0.5rem",padding:"0.5rem",backgroundColor:"#f9f9f9",border:"1px solid #ddd"},children:l.data.duties.map((e,r)=>(0,i.jsxs)("div",{style:{marginBottom:"0.5rem",padding:"0.25rem",borderBottom:"1px solid #eee"},children:[(0,i.jsxs)("strong",{children:["Duty #",r+1,":"]}),(0,i.jsx)("br",{}),(0,i.jsx)("small",{children:e.content})]},r))})]})]})]}),(0,i.jsxs)("div",{style:{padding:"1rem",backgroundColor:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"4px"},children:[(0,i.jsx)("h4",{children:"ℹ️ How This Works:"}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Multi-User:"})," Each pilot enters their own credentials to get their personal schedule"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Secure:"})," Your login information is only used for that request and never stored"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Real-Time:"})," Data is fetched directly from ABX Air/ATI crew portals"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Personal:"})," You only see your own duties, flights, and notifications"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Fast:"})," Results typically return in 10-30 seconds"]})]})]})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=7222)}),_N_E=e.O()}]);