(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[814],{4468:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/schedule-app",function(){return n(2817)}])},2817:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return i}});var s=n(5893),t=n(7294);function i(){var e;let[r,n]=(0,t.useState)({username:"",password:"",airline:"ABX Air"}),[i,d]=(0,t.useState)(null),[l,o]=(0,t.useState)(!1),[a,u]=(0,t.useState)(!0),c=async()=>{if(!r.username||!r.password){alert("Please enter your crew portal credentials");return}o(!0);try{let e=await fetch("/api/scrape",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),n=await e.json();n.success?(d(n.data),u(!1)):alert("Error: ".concat(n.error))}catch(e){alert("Network error: ".concat(e.message))}finally{o(!1)}};return a?(0,s.jsxs)("div",{style:{maxWidth:"400px",margin:"2rem auto",padding:"2rem"},children:[(0,s.jsx)("h2",{children:"\uD83D\uDEE9ï¸ Access Your Schedule"}),(0,s.jsx)("p",{children:"Enter your crew portal login to view your personal schedule:"}),(0,s.jsx)("div",{style:{marginBottom:"1rem"},children:(0,s.jsxs)("label",{children:["Airline:",(0,s.jsxs)("select",{value:r.airline,onChange:e=>n({...r,airline:e.target.value}),style:{display:"block",width:"100%",padding:"0.5rem",marginTop:"0.25rem"},children:[(0,s.jsx)("option",{value:"ABX Air",children:"ABX Air"}),(0,s.jsx)("option",{value:"ATI",children:"ATI"})]})]})}),(0,s.jsx)("div",{style:{marginBottom:"1rem"},children:(0,s.jsxs)("label",{children:["Username:",(0,s.jsx)("input",{type:"text",value:r.username,onChange:e=>n({...r,username:e.target.value}),placeholder:"Your crew portal username",style:{display:"block",width:"100%",padding:"0.5rem",marginTop:"0.25rem"}})]})}),(0,s.jsx)("div",{style:{marginBottom:"1rem"},children:(0,s.jsxs)("label",{children:["Password:",(0,s.jsx)("input",{type:"password",value:r.password,onChange:e=>n({...r,password:e.target.value}),placeholder:"Your crew portal password",style:{display:"block",width:"100%",padding:"0.5rem",marginTop:"0.25rem"}})]})}),(0,s.jsx)("button",{onClick:c,disabled:l,style:{width:"100%",padding:"0.75rem",backgroundColor:l?"#ccc":"#0070f3",color:"white",border:"none",borderRadius:"4px",cursor:l?"not-allowed":"pointer",fontSize:"16px"},children:l?"\uD83D\uDD04 Getting Your Schedule...":"\uD83D\uDCCB Get My Schedule"}),(0,s.jsx)("p",{style:{fontSize:"12px",color:"#666",marginTop:"1rem"},children:"\uD83D\uDD12 Your credentials are used only to fetch your schedule and are never stored."})]}):(0,s.jsxs)("div",{style:{maxWidth:"800px",margin:"2rem auto",padding:"2rem"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[(0,s.jsx)("h2",{children:"\uD83D\uDCC5 Your Crew Schedule"}),(0,s.jsx)("button",{onClick:()=>{n({username:"",password:"",airline:"ABX Air"}),d(null),u(!0)},style:{padding:"0.5rem 1rem",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"\uD83D\uDD13 Logout"})]}),i&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{style:{marginBottom:"2rem",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"4px"},children:[(0,s.jsx)("h3",{children:"\uD83D\uDCCA Schedule Summary"}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Duties Found:"})," ",(null===(e=i.duties)||void 0===e?void 0:e.length)||0]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Portal:"})," ",i.pageTitle]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Last Updated:"})," ",new Date(i.timestamp).toLocaleString()]})]}),i.duties&&i.duties.length>0?(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{children:"\uD83D\uDCCB Your Duties"}),i.duties.map((e,r)=>(0,s.jsxs)("div",{style:{padding:"1rem",marginBottom:"1rem",border:"1px solid #ddd",borderRadius:"4px",backgroundColor:"#fff"},children:[(0,s.jsxs)("h4",{children:["Duty #",r+1]}),(0,s.jsx)("p",{children:e.content}),(0,s.jsxs)("small",{style:{color:"#666"},children:["Element: ",e.element]})]},r))]}):(0,s.jsxs)("div",{style:{padding:"2rem",textAlign:"center",backgroundColor:"#fff3cd",borderRadius:"4px"},children:[(0,s.jsx)("h3",{children:"\uD83D\uDCED No Duties Found"}),(0,s.jsx)("p",{children:"No scheduled duties were found for your account at this time."})]})]})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=4468)}),_N_E=e.O()}]);