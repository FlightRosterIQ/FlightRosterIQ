"use strict";(()=>{var e={};e.id=856,e.ids=[856],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},249:(e,s)=>{Object.defineProperty(s,"l",{enumerable:!0,get:function(){return function e(s,t){return t in s?s[t]:"then"in s&&"function"==typeof s.then?s.then(s=>e(s,t)):"function"==typeof s&&"default"===t?s:void 0}}})},83:(e,s,t)=>{t.r(s),t.d(s,{config:()=>m,default:()=>g,routeModule:()=>P});var r={};t.r(r),t.d(r,{default:()=>c});var n=t(802),a=t(153),o=t(249);let{transformScheduleData:i,AIRLINE_CONFIGS:u}=require("../../crew-scraper.cjs");async function c(e,s){if(s.setHeader("Access-Control-Allow-Origin","*"),s.setHeader("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),s.setHeader("Access-Control-Allow-Headers","Content-Type, Authorization"),"OPTIONS"===e.method)return s.status(200).end();try{switch(e.method){case"GET":return l(e,s);case"POST":return d(e,s);case"PUT":return p(e,s);case"DELETE":return f(e,s);default:return s.status(405).json({error:"Method not allowed"})}}catch(e){return console.error("âŒ Schedule API Error:",e.message),s.status(500).json({success:!1,error:e.message,timestamp:new Date().toISOString()})}}async function l(e,s){let{action:t}=e.query;switch(t){case"airlines":return s.status(200).json({success:!0,airlines:Object.keys(u),configs:u});case"status":return s.status(200).json({success:!0,status:"operational",timestamp:new Date().toISOString(),version:"1.0.0"});default:return s.status(400).json({success:!1,error:"Invalid action. Use: airlines, status"})}}async function d(e,s){let{action:t,data:r}=e.body;switch(t){case"import":try{let{schedule:e,notifications:t,username:n,timestamp:a}=r,o=i(e||[]);return console.log(`ðŸ“… Processing schedule for user: ${n}`),console.log(`ðŸ“Š Processed ${o.pairings.length} pairings`),s.status(200).json({success:!0,message:"Schedule imported successfully",processed:{pairings:o.pairings.length,notifications:(t||[]).length,user:n,timestamp:a},data:o})}catch(e){return s.status(400).json({success:!1,error:`Import failed: ${e.message}`})}case"validate":try{let{schedule:e}=r,t=Array.isArray(e)&&e.every(e=>e.hasOwnProperty("flights")&&Array.isArray(e.flights));return s.status(200).json({success:!0,valid:t,itemCount:e?e.length:0})}catch(e){return s.status(400).json({success:!1,error:`Validation failed: ${e.message}`})}default:return s.status(400).json({success:!1,error:"Invalid action. Use: import, validate"})}}async function p(e,s){return s.status(200).json({success:!0,message:"Schedule update endpoint - implementation pending"})}async function f(e,s){return s.status(200).json({success:!0,message:"Schedule deletion endpoint - implementation pending"})}let g=(0,o.l)(r,"default"),m=(0,o.l)(r,"config"),P=new n.PagesAPIRouteModule({definition:{kind:a.x.PAGES_API,page:"/api/schedule",pathname:"/api/schedule",bundlePath:"",filename:""},userland:r})},153:(e,s)=>{var t;Object.defineProperty(s,"x",{enumerable:!0,get:function(){return t}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(t||(t={}))},802:(e,s,t)=>{e.exports=t(145)}};var s=require("../../webpack-api-runtime.js");s.C(e);var t=s(s.s=83);module.exports=t})();